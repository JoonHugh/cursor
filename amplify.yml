version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "Contents of working directory:" && ls -la
        - echo "Looking for frontend directory..." && ls -la frontend
        - cd frontend && npm install --force
        - pwd
        - ls -la
        - ls -la frontend
    build:
      commands:
        - cd frontend && npm run build
        - ls -la frontend/dist
  artifacts:
    baseDirectory: frontend/dist
    files:
      - '**/*'
  cache:
    paths:
      - frontend/node_modules/**/*